<!DOCTYPE html>
<html>
<head>
  <title>Gravity</title>
  <meta charset="UTF-8">
  <style>
    canvas {
      background-color: #CCC
    }
  </style>
  <script src="./js/socket.js" defer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js" defer></script>
  <script defer>

let score = 0
let baseSpeed = 1
let timeInterval = 0.2
let accel = 1
let sizeAccel = 0.1
let canvasSize = 500

const copter = {
  y: 25,
  size: 50,
  speed: baseSpeed
}

function keyPressed() {
  copter.y = copter.y - 25
  copter.speed = baseSpeed
}

function setup() {
  createCanvas(canvasSize, canvasSize);
}

function draw() {
  clear()
  copter.y = copter.y + timeInterval * copter.speed
  copter.speed = copter.speed + accel * timeInterval
  score += 0.05
  copter.size = copter.size + sizeAccel
  
  if (copter.y < copter.size / 2 || copter.y + copter.size / 2 > canvasSize) {
    confirm("YEY! Your score is " + Math.round(score))
    copter.y = 25
    copter.size = 50
    copter.speed = baseSpeed
    score = 0
  } else {
    ellipse(canvasSize / 2, copter.y, copter.size, copter.size)
  }
}

document.addEventListener('keyup', keyPressed)

  </script>
</head>
<body>
</body>
</html>